\documentclass{llncs}
  \pdfpagewidth=8.5truein
  \pdfpageheight=11truein

\usepackage{graphicx,url} 
\usepackage{tikz}
\usepackage{times}
%\usepackage[dvips]{graphicx}
\usepackage{alltt} 
\usepackage{amsmath}
\usepackage{latexsym}
\usepackage{listings}

%%%%% OUR MACROS
\newcommand{\sem}[1]{[ \! [ #1 ] \! ]}
\newcommand{\guard}[1]{[ #1 ]}
\newcommand{\tuple}[1]{\langle #1 \rangle}
\newcommand{\trad}[1]{{\cal T}\sem{ #1 }}
\newcommand{\setof}[1]{\{ #1 \} }
\newcommand{\eval}[2]{\mathit{Eval}_{#1}(#2)}

\newcommand{\transicaoExpressions}{$$s, b \vdash exp \Downarrow  s', b', v'$$}
\newcommand{\transicaoExpressionsSubstituindo}[1]{$$s, b \vdash exp \Downarrow  s', b', v#1$$}
\newcommand{\transicaoExpressionsSubstituindoAmbos}[2]{$$s, b \vdash #1 \Downarrow  s', b', v#2$$}
\newcommand{\transicaoCommands}{$$b,s \vdash C \Downarrow b[C\mapsto b(C)],s'$$}
\newcommand{\transicaoCommandsSubstituindo}[3] {
  $$b,s \vdash #1  \Downarrow b'#2, s'#3$$
}




\def\tr{\rhd}    % transition relation

\newcommand{\fpfrule}[2]{{{{\displaystyle #1}\over{\displaystyle #2}}}}
\newcommand{\pfrule}[2]{\begin{array}{c} #1 \\ \hline #2 \end{array}}
\newcommand{\pfruleN}[3]{\begin{array}{c} #1 \\ \hline #3 \end{array} \ (#2)}
%\newcommand{\pfrule}[2]{\begin{array}{c} #1 \\[-0.5em] \hline #2 \end{array}}

\newcommand{\rulegap}{\qquad}

\newcommand{\alberto}[1]{\marginpar{\textcolor{magenta}{\textbf{Alberto: }#1}}}
\newcommand{\ialberto}[1]{\textcolor{blue}{\textbf{Alberto: }#1}}

\newcommand{\dan}[1]{\textcolor{red}{#1}}
\newcommand{\idaniel}[1]{\textcolor{red}{\textbf{Daniel: }#1}}

\def\vertices{{\cal V}}
\def\crossDD{\mathsf{crossDD}}
\newcommand{\comentario}[1]{}

\lstset{numbers=right, numbersep=5pt, numberstyle=\tiny, stepnumber=1,escapechar=\!,columns=fullflexible,
        morekeywords={procedure,let,for,do,if,then,else,add,choose,end,while,true,false,rise,exception,extend,resume,to}}

\def\pews{$\mu$BP}
\def\PEWSAM{BP-AM}
\begin{document}

\begin{itemize}
  \item First step: Define the semantic domains
  \item Second Step: Define Big Step semantics
\end{itemize}




\section{Semantic Domain - \textit{Python}}



\setlength{\parindent}{0cm}Rela\c{c}\~ao de Transi\c{c}\~ao para Express\~oes:
% $$s, b \vdash exp \Downarrow  s', b', v'$$
\transicaoExpressions


Rela\c{c}\~ao de Transi\c{c}\~ao para Comandos:
\transicaoCommands




Bindings: $$(identifier \mapsto cell) \cup (identifier \mapsto closure).$$
Store: $$cell \mapsto value$$
$$value = string\_literal \cup num\_literal \cup bool\_literal \cup list$$
\newpage



Regras de atribui\c{c}\~ao
\vspace{20 mm}


Atribui\c{c}\~ao de Elemento n\~ao lista e que n\~ao exista nos bindings:
$$
\textit{}
\pfrule
{\transicaoExpressions}
{\transicaoCommandsSubstituindo
{identifier = exp}%command
{[identifier\mapsto v]}%b
{}%s
}
\textit{ $identifier \not \in dom(b), v \not \in list$ }
$$

Atribui\c{c}\~ao de Elemento n\~ao lista e que exista nos bindings:
$$
\textit{}
\pfrule
{\transicaoExpressions  }
{\transicaoCommandsSubstituindo
{identifier = exp}%command
{[b(identifier) \mapsto v]}%b
{}%s
}
\textit{ $identifier \in dom(b), v \not \in list$ }
$$


Atribui\c{c}\~ao de Elemento lista e que n\~ao exista nos bindings:
$$
\textit{}
\pfrule
{\transicaoExpressions \hspace{5 mm} k:=alloc(s', v)}
{\transicaoCommandsSubstituindo
{identifier = exp}%command
{[identifier\mapsto k]}%b
{[k \mapsto v]}%s
}
\textit{ $identifier \not \in dom(b), v \in list$ }
$$


Atribui\c{c}\~ao de Elemento lis\~aa e que exista nos bindings:
$$
\textit{}
\pfrule
{\transicaoExpressions}
{\transicaoCommandsSubstituindo
{identifier = exp}%command
{}%b
{[b'(identifier \mapsto v)]}%s
}
\textit{ $identifier \in dom(b), v \in list$ }
$$

\vspace{10 mm}
\line(3,0){400}
\vspace{10 mm}
Atribui\c{c}\~ao em listas:
$$
\textit{(list-atrib)}
\pfrule
{\transicaoExpressionsSubstituindo{'} \vspace{5 mm} \transicaoExpressionsSubstituindo{''}  \vspace{5 mm} \transicaoExpressionsSubstituindo{'''}}
{\transicaoCommandsSubstituindo
{exp1[exp2]=exp3}%command
{}%b
{[b'(exp1[exp2]) \mapsto exp3]}%s
}
\textit{ $v' \in list, v'' \in num\_literal$ }
$$









\newpage

Regras de desvio condicional:



$$
\textit{(Expression evaluated as True)}
\pfrule
{\transicaoExpressions}
{\transicaoCommandsSubstituindo
{if (exp): C1 else: C2}%command
{[C1]}%b
{[C1]}%s
}
\textit{$ v = True $}
$$



$$
\textit{(Expression evaluated as False)}
\pfrule
{\transicaoExpressions}
{\transicaoCommandsSubstituindo
{if (exp): C1 else: C2}%command
{[C2]}%b
{[C2]}%s
}
\textit{$ v = False$}
$$




For loop

$$
\textit{(For loop)}
\pfrule
{\transicaoExpressions}
{\transicaoCommandsSubstituindo
{for identifier in exp: command}%command
{[command]}%b
{[command]}%s
}
\textit{$exp \mapsto k, k \mapsto v, v \in list$}
$$



\newpage

$$
\textit{ (string-add) }
\pfrule
{\transicaoExpressionsSubstituindo{'}  \hspace{5 mm} \transicaoExpressionsSubstituindo{''}}
{\transicaoExpressionsSubstituindoAmbos{exp + exp}{'''}}
\textit{$(v''' = v' . v''), v' \in string\_literal, v'' \in string\_literal$}
$$



$$
\textit{ (num-add) }
\pfrule
{\transicaoExpressionsSubstituindo{'}  \hspace{5 mm} \transicaoExpressionsSubstituindo{''}}
{\transicaoExpressionsSubstituindoAmbos{exp + exp}{'''}}
\textit{$(v''' = v' + v''), v' \in num\_literal, v'' \in num\_literal$}
$$

$$
\textit{ (num-sub) }
\pfrule
{\transicaoExpressionsSubstituindo{'}  \hspace{5 mm} \transicaoExpressionsSubstituindo{''}}
{\transicaoExpressionsSubstituindoAmbos{exp - exp}{'''}}
\textit{$(v''' = v' - v''), v' \in num\_literal, v'' \in num\_literal$}
$$

$$
\textit{ (num-mult) }
\pfrule
{\transicaoExpressionsSubstituindo{'}  \hspace{5 mm} \transicaoExpressionsSubstituindo{''}}
{\transicaoExpressionsSubstituindoAmbos{exp * exp}{'''}}
\textit{$(v''' = v' * v''), v' \in num\_literal, v'' \in num\_literal$}
$$


$$
\textit{ (num-div) }
\pfrule
{\transicaoExpressionsSubstituindo{'}  \hspace{5 mm} \transicaoExpressionsSubstituindo{''}}
{\transicaoExpressionsSubstituindoAmbos{exp / exp}{'''}}
\textit{$(v''' = v' / v''), v' \in num\_literal, v'' \in num\_literal$}
$$


% $$
% \textit{(if-clause-true)}
% \pfrule
% {if (exp): command1 else: command2 \hspace{5 mm}  exp \Downarrow True}
% {command1}
% {\textit{(s', b')}}
% $$

% $$
% \textit{(if-clause-false)}
% \pfrule
% {if (exp): command1 else: command2 \hspace{5 mm}  exp \Downarrow False}
% {command2}
% {\textit{(s', b')}}
% $$


% $$
% \textit{(access-list)}
% \pfrule
% {s[list\_identifier \mapsto cell] \hspace{5 mm} cell \mapsto value \hspace{5 mm} exp \Downarrow num\_literal}
% {list\_identifier[exp]}
% {\textit{(value, s, b)}}
% $$





\newpage
% \paragraph{Esquema da m√°quina:}

% $$\tuple{G, \rho, I, O, M, T_E, N_{MT}} \ \tr\ \tuple{G', \rho', I', O', M', T'_E, N'_{MT}}$$




% \paragraph{Operation Call:}

% $$
% \pfrule{
% \mathit{indegree}(w) = 0 \qquad 
% \overline{a} = \eval{\rho}{\overline{E}} \qquad
% A'_c = A_c - \setof{w\mapsto v \ | \ v \in V} \qquad
% A'_d = A_d - \setof{w\mapsto v \ | \ v \in V} \\[1mm]
% G = \tuple{V[w:S!\overline{E}, \, w' : S?\overline{X}], A_c[w \mapsto w'], A_d} \qquad
% G' = \tuple{V[w' : S?\overline{X}], A'_c, A'_d}
% }{
% \tuple{G,\rho, I, O, M, T_E, N_{MT}}
% \; \tr \;
% \tuple{G',\rho, I, O[\tuple{S, w', \overline{a}}], M[\tuple{w:S!\overline{E}, \, w', \mathit{now()}, N_{MT}}], T_E, N_{MT}}
% }
% $$

\end{document}
